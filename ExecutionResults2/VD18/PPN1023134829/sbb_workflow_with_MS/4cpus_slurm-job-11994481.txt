================================================================================
JobID = 11994481
User = u12198, Account = project_pwieder_ocr_nhr
Partition = standard96:shared, Nodelist = gcn2936
================================================================================
gcn2936
Ocrd total images in request: 2
Ocrd images: 
ocrd_core.sif ocrd_tesserocr.sif 
Project dir ocrd models: /mnt/vast-nhr/projects/project_pwieder_ocr_nhr/ocrd_models
Project dir processor sifs: /mnt/vast-nhr/projects/project_pwieder_ocr_nhr/ocrd_processor_sifs
Node dir ocrd models: /local/jobs/u12198_11994481/ocrd_models
Node dir processor sifs: /local/jobs/u12198_11994481/ocrd_processor_sifs

Node workspace dir: /local/jobs/u12198_11994481/3b3718ff-5b23-4105-a28b-259ae88ff510/60f0e0a2-3211-476c-9c33-bf907428a828
Node nextflow script path: /local/jobs/u12198_11994481/3b3718ff-5b23-4105-a28b-259ae88ff510/sbb_workflow_with_MS.nf
Use mets server: true

Nf run command with Node placeholders: nextflow run PH_NF_SCRIPT_PATH -ansi-log false -with-report -with-trace --input_file_group MAX --mets_path /ws_data/mets.xml --mets_socket_path /ws_data/mets_server.sock --workspace_dir /ws_data --pages 140 --env_wrapper_cmd_core PH_CMD_WRAPPERapptainer exec --bind PH_HPC_WS_DIR:/ws_data --bind PH_NODE_DIR_OCRD_MODELS/ocrd-resources:/usr/local/share/ocrd-resources --env OCRD_METS_CACHING=false PH_NODE_DIR_PROCESSOR_SIFS/ocrd_core.sifPH_CMD_WRAPPER --env_wrapper_cmd_step0 PH_CMD_WRAPPERapptainer exec --bind PH_HPC_WS_DIR:/ws_data --bind PH_NODE_DIR_OCRD_MODELS/ocrd-resources:/usr/local/share/ocrd-resources --env OCRD_METS_CACHING=true PH_NODE_DIR_PROCESSOR_SIFS/ocrd_tesserocr.sifPH_CMD_WRAPPER --cpus 4 --ram 32 --forks 4

Nf run command without placeholders: nextflow run /local/jobs/u12198_11994481/3b3718ff-5b23-4105-a28b-259ae88ff510/sbb_workflow_with_MS.nf -ansi-log false -with-report -with-trace --input_file_group MAX --mets_path /ws_data/mets.xml --mets_socket_path /ws_data/mets_server.sock --workspace_dir /ws_data --pages 140 --env_wrapper_cmd_core 'apptainer exec --bind /local/jobs/u12198_11994481/3b3718ff-5b23-4105-a28b-259ae88ff510/60f0e0a2-3211-476c-9c33-bf907428a828:/ws_data --bind /local/jobs/u12198_11994481/ocrd_models/ocrd-resources:/usr/local/share/ocrd-resources --env OCRD_METS_CACHING=false /local/jobs/u12198_11994481/ocrd_processor_sifs/ocrd_core.sif' --env_wrapper_cmd_step0 'apptainer exec --bind /local/jobs/u12198_11994481/3b3718ff-5b23-4105-a28b-259ae88ff510/60f0e0a2-3211-476c-9c33-bf907428a828:/ws_data --bind /local/jobs/u12198_11994481/ocrd_models/ocrd-resources:/usr/local/share/ocrd-resources --env OCRD_METS_CACHING=true /local/jobs/u12198_11994481/ocrd_processor_sifs/ocrd_tesserocr.sif' --cpus 4 --ram 32 --forks 4

Scratch base found/created at: /mnt/vast-nhr/projects/project_pwieder_ocr_nhr/operandi_prod/slurm_workspaces
Ocrd models directory found at: /mnt/vast-nhr/projects/project_pwieder_ocr_nhr/ocrd_models

Transferring workflow job zip from /mnt/vast-nhr/projects/project_pwieder_ocr_nhr/operandi_prod/slurm_workspaces/3b3718ff-5b23-4105-a28b-259ae88ff510.zip to /local/jobs/u12198_11994481/3b3718ff-5b23-4105-a28b-259ae88ff510.zip
Successfully transferred workflow job zip to node local storage: /local/jobs/u12198_11994481/3b3718ff-5b23-4105-a28b-259ae88ff510.zip
Removing zip: /mnt/vast-nhr/projects/project_pwieder_ocr_nhr/operandi_prod/slurm_workspaces/3b3718ff-5b23-4105-a28b-259ae88ff510.zip
Unzipping /local/jobs/u12198_11994481/3b3718ff-5b23-4105-a28b-259ae88ff510.zip to: /local/jobs/u12198_11994481/3b3718ff-5b23-4105-a28b-259ae88ff510
Removing zip: /local/jobs/u12198_11994481/3b3718ff-5b23-4105-a28b-259ae88ff510.zip
Successfully transferred ocrd models to node local storage: /local/jobs/u12198_11994481/ocrd_models
Creating non-existing processor sif images dir: /local/jobs/u12198_11994481/ocrd_processor_sifs
Transferring ocrd processor image to the compute node: ocrd_core.sif
Ocrd processor image was transferred to: /local/jobs/u12198_11994481/ocrd_processor_sifs/ocrd_core.sif
Transferring ocrd processor image to the compute node: ocrd_tesserocr.sif
Ocrd processor image was transferred to: /local/jobs/u12198_11994481/ocrd_processor_sifs/ocrd_tesserocr.sif

ocrd, version 3.4.0

Starting the mets server for the specific workspace in the background
Executing the nextflow workflow with mets server
curl: (7) Failed to connect to www.nextflow.io port 443: Connection timed out
N E X T F L O W  ~  version 24.10.0
Launching `/local/jobs/u12198_11994481/3b3718ff-5b23-4105-a28b-259ae88ff510/sbb_workflow_with_MS.nf` [kickass_pesquet] DSL2 - revision: 6882c9160d
OPERANDI HPC - Nextflow Workflow
===================================================
input_file_group: MAX
mets_path: /ws_data/mets.xml
workspace_dir: /ws_data
pages: 140
mets_socket_path: /ws_data/mets_server.sock
cpus: 4
ram: 32
forks: 4
cpus_per_fork: 1
ram_per_fork: 8GB
env_wrapper_cmd_core: apptainer exec --bind /local/jobs/u12198_11994481/3b3718ff-5b23-4105-a28b-259ae88ff510/60f0e0a2-3211-476c-9c33-bf907428a828:/ws_data --bind /local/jobs/u12198_11994481/ocrd_models/ocrd-resources:/usr/local/share/ocrd-resources --env OCRD_METS_CACHING=false /local/jobs/u12198_11994481/ocrd_processor_sifs/ocrd_core.sif
env_wrapper_cmd_step0: apptainer exec --bind /local/jobs/u12198_11994481/3b3718ff-5b23-4105-a28b-259ae88ff510/60f0e0a2-3211-476c-9c33-bf907428a828:/ws_data --bind /local/jobs/u12198_11994481/ocrd_models/ocrd-resources:/usr/local/share/ocrd-resources --env OCRD_METS_CACHING=true /local/jobs/u12198_11994481/ocrd_processor_sifs/ocrd_tesserocr.sif

[98/a84b95] Submitted process > split_page_ranges (4)
[8d/4cb857] Submitted process > split_page_ranges (3)
[62/b6e68f] Submitted process > split_page_ranges (1)
[9e/862736] Submitted process > split_page_ranges (2)
Current range is: PHYS_0106,PHYS_0107,PHYS_0108,PHYS_0109,PHYS_0110,PHYS_0111,PHYS_0112,PHYS_0113,PHYS_0114,PHYS_0115,PHYS_0116,PHYS_0117,PHYS_0118,PHYS_0119,PHYS_0120,PHYS_0121,PHYS_0122,PHYS_0123,PHYS_0124,PHYS_0125,PHYS_0126,PHYS_0127,PHYS_0128,PHYS_0129,PHYS_0130,PHYS_0131,PHYS_0132,PHYS_0133,PHYS_0134,PHYS_0135,PHYS_0136,PHYS_0137,PHYS_0138,PHYS_0139,PHYS_0140
[23/6433fe] Submitted process > ocrd_tesserocr_recognize_0 (1)
Current range is: PHYS_0071,PHYS_0072,PHYS_0073,PHYS_0074,PHYS_0075,PHYS_0076,PHYS_0077,PHYS_0078,PHYS_0079,PHYS_0080,PHYS_0081,PHYS_0082,PHYS_0083,PHYS_0084,PHYS_0085,PHYS_0086,PHYS_0087,PHYS_0088,PHYS_0089,PHYS_0090,PHYS_0091,PHYS_0092,PHYS_0093,PHYS_0094,PHYS_0095,PHYS_0096,PHYS_0097,PHYS_0098,PHYS_0099,PHYS_0100,PHYS_0101,PHYS_0102,PHYS_0103,PHYS_0104,PHYS_0105
Current range is: PHYS_0001,PHYS_0002,PHYS_0003,PHYS_0004,PHYS_0005,PHYS_0006,PHYS_0007,PHYS_0008,PHYS_0009,PHYS_0010,PHYS_0011,PHYS_0012,PHYS_0013,PHYS_0014,PHYS_0015,PHYS_0016,PHYS_0017,PHYS_0018,PHYS_0019,PHYS_0020,PHYS_0021,PHYS_0022,PHYS_0023,PHYS_0024,PHYS_0025,PHYS_0026,PHYS_0027,PHYS_0028,PHYS_0029,PHYS_0030,PHYS_0031,PHYS_0032,PHYS_0033,PHYS_0034,PHYS_0035
[c9/03d9fc] Submitted process > ocrd_tesserocr_recognize_0 (3)
[7e/5b9cbe] Submitted process > ocrd_tesserocr_recognize_0 (2)
Current range is: PHYS_0036,PHYS_0037,PHYS_0038,PHYS_0039,PHYS_0040,PHYS_0041,PHYS_0042,PHYS_0043,PHYS_0044,PHYS_0045,PHYS_0046,PHYS_0047,PHYS_0048,PHYS_0049,PHYS_0050,PHYS_0051,PHYS_0052,PHYS_0053,PHYS_0054,PHYS_0055,PHYS_0056,PHYS_0057,PHYS_0058,PHYS_0059,PHYS_0060,PHYS_0061,PHYS_0062,PHYS_0063,PHYS_0064,PHYS_0065,PHYS_0066,PHYS_0067,PHYS_0068,PHYS_0069,PHYS_0070
[19/37ec7b] Submitted process > ocrd_tesserocr_recognize_0 (4)
The nextflow workflow execution has finished successfully
Stopping the mets server
/var/spool/slurmd/job11994481/slurm_script: line 221: 2761768 Terminated              apptainer exec --bind /local/jobs/u12198_11994481/3b3718ff-5b23-4105-a28b-259ae88ff510/60f0e0a2-3211-476c-9c33-bf907428a828:/ws_data /local/jobs/u12198_11994481/ocrd_processor_sifs/ocrd_core.sif ocrd workspace -d /ws_data -U /ws_data/mets_server.sock server start > /local/jobs/u12198_11994481/3b3718ff-5b23-4105-a28b-259ae88ff510/60f0e0a2-3211-476c-9c33-bf907428a828/mets_server.log 2>&1
File groups: MIN DEFAULT PRESENTATION THUMBS MAX OCR-D-OCR Total amount of file groups detected: 6

Splitting file groups to an array
Removing file group: MIN
Removing file group: DEFAULT
Removing file group: PRESENTATION
Removing file group: THUMBS
File groups: MAX OCR-D-OCR Total amount of file groups detected: 2

The file groups have been removed successfully
The results have been zipped successfully
Transferring /local/jobs/u12198_11994481/3b3718ff-5b23-4105-a28b-259ae88ff510.zip to /mnt/vast-nhr/projects/project_pwieder_ocr_nhr/operandi_prod/slurm_workspaces/3b3718ff-5b23-4105-a28b-259ae88ff510/wf_3b3718ff-5b23-4105-a28b-259ae88ff510.zip
Transferring /local/jobs/u12198_11994481/3b3718ff-5b23-4105-a28b-259ae88ff510/60f0e0a2-3211-476c-9c33-bf907428a828/60f0e0a2-3211-476c-9c33-bf907428a828.zip to /mnt/vast-nhr/projects/project_pwieder_ocr_nhr/operandi_prod/slurm_workspaces/3b3718ff-5b23-4105-a28b-259ae88ff510/ws_60f0e0a2-3211-476c-9c33-bf907428a828.zip

Removing the OCR-D models directory from the computing node, path: /local/jobs/u12198_11994481/ocrd_models
Removing the OCR-D processor images (SIF) directory from the computing node, path: /local/jobs/u12198_11994481/ocrd_processor_sifs
